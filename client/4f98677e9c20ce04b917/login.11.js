(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{35:function(e,t,c){"use strict";(function(e){var n=c(46),b=c(37),o=c(36),a=c(8);let i,s,r;const l=t=>{const b=new(void 0!==e.env.JEST_WORKER_ID?c(28):c(28).default)(t).setMaxListeners(n.a.database.maxNumberOfListeners);return b.changes({since:"now",live:!0,include_docs:!0}).on("change",()=>{if(void 0!==e.env.JEST_WORKER_ID)return;c(30).default.update(e=>({...e,dbUpdatedAt:Date.now()}))}),b};if(!0===Object(a.a)()){const e=c(30).default,t=c(28).default;s=new t(`${n.a.database.remote}/${o.a.get("loginDb")}`,{skip_setup:!0,live:!0}),i=l(n.a.database.local),window._DB=i,o.a.get("loginDb")===Object(b.a)("JohnDoe")&&e.update(e=>({...e,user:{name:"JohnDoe"},online:!0})),o.a.get("loginDb")&&n.a.features.authEnabled?fetch(n.a.database.remote+"/_session",{credentials:"include"}).then(e=>e.json()).then(t=>{null!==t.userCtx.name&&(e.update(e=>({...e,user:{name:t.userCtx.name}})),a())}):e.update(e=>({...e,online:!1})),window._fakeLogin=()=>{o.a.set("loginDb",Object(b.a)("JohnDoe"),{expires:n.a.database.auth.expireDays}),window.location.href="/"},window._Login=async(t,c)=>{if(!1===window._test_credentials_correct)throw new Error("Incorrect username or password");if(!0===window._test_credentials_correct)return window._fakeLogin();const a=await(await fetch(n.a.database.remote+"/_session",{method:"post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:c})})).json();if(a.error){if("unauthorized"===a.error)throw new Error("Username or password is incorrect");throw new Error("Couldn't log in. Please try again later")}e.update(e=>({...e,online:null})),o.a.set("loginDb",Object(b.a)(t),{expires:n.a.database.auth.expireDays}),window.location.reload(!1),window.location.href=""},window._Logout=async()=>{try{r&&(await r.cancel(),await fetch(n.a.database.remote+"/_session",{method:"delete"}))}finally{o.a.remove("loginDb"),e.update(e=>({...e,user:null,online:null})),await i.destroy(),window.location.reload(!1)}};const a=()=>{r=i.sync(s).on("complete",(function(){e.update(e=>({...e,online:!0}))})).on("error",(function(){e.update(e=>({...e,online:!1}))}))}}void 0!==e.env.JEST_WORKER_ID&&(i=l(n.a.database.local),i.__reset=async()=>{const e=await i.allDocs();await Promise.all(e.rows.map((function(e){return i.remove(e.id,e.value.rev)})))}),t.a=i}).call(this,c(20))},37:function(e,t,c){"use strict";t.a=e=>"userdb-"+(e=>e.split("").map(e=>e.charCodeAt(0).toString(16)).join(""))(e)},429:function(e,t,c){"use strict";c.r(t);var n=c(0),b=(c(35),c(33)),o=c(49),a=c(87);function i(e){let t,c;return{c(){t=Object(n.E)("p"),c=Object(n.ob)(e[0]),this.h()},l(b){t=Object(n.p)(b,"P",{class:!0});var o=Object(n.n)(t);c=Object(n.t)(o,e[0]),o.forEach(n.D),this.h()},h(){Object(n.j)(t,"class","help is-danger")},m(e,b){Object(n.P)(e,t,b),Object(n.g)(t,c)},p(e,t){1&t&&Object(n.fb)(c,e[0])},d(e){e&&Object(n.D)(t)}}}function s(e){let t;return{c(){t=Object(n.ob)("Log in")},l(e){t=Object(n.t)(e,"Log in")},m(e,c){Object(n.P)(e,t,c)},d(e){e&&Object(n.D)(t)}}}function r(e){let t,c,r,l,j,O,u,d,m,f,p,h,g,w,$,v,y,D,x,E;function k(t){e[4](t)}c=new b.a({});let _={name:"Username",icon:"user",id:"username"};function q(t){e[5](t)}void 0!==e[1]&&(_.value=e[1]),f=new a.a({props:_}),n.l.push(()=>Object(n.k)(f,"value",k));let C={name:"Password",icon:"lock",id:"password",type:"password"};void 0!==e[2]&&(C.value=e[2]),g=new a.a({props:C}),n.l.push(()=>Object(n.k)(g,"value",q));let P=null!==e[0]&&i(e);return y=new o.a({props:{submit:!0,$$slots:{default:[s]},$$scope:{ctx:e}}}),y.$on("click",e[3]),{c(){t=Object(n.kb)(),Object(n.x)(c.$$.fragment),r=Object(n.kb)(),l=Object(n.E)("section"),j=Object(n.E)("div"),O=Object(n.E)("form"),u=Object(n.E)("h2"),d=Object(n.ob)("Log in"),m=Object(n.kb)(),Object(n.x)(f.$$.fragment),h=Object(n.kb)(),Object(n.x)(g.$$.fragment),$=Object(n.kb)(),P&&P.c(),v=Object(n.kb)(),Object(n.x)(y.$$.fragment),this.h()},l(e){Object(n.ab)('[data-svelte="svelte-nuxzs8"]',document.head).forEach(n.D),t=Object(n.r)(e),Object(n.o)(c.$$.fragment,e),r=Object(n.r)(e),l=Object(n.p)(e,"SECTION",{class:!0});var b=Object(n.n)(l);j=Object(n.p)(b,"DIV",{class:!0});var o=Object(n.n)(j);O=Object(n.p)(o,"FORM",{});var a=Object(n.n)(O);u=Object(n.p)(a,"H2",{class:!0});var i=Object(n.n)(u);d=Object(n.t)(i,"Log in"),i.forEach(n.D),m=Object(n.r)(a),Object(n.o)(f.$$.fragment,a),h=Object(n.r)(a),Object(n.o)(g.$$.fragment,a),$=Object(n.r)(a),P&&P.l(a),v=Object(n.r)(a),Object(n.o)(y.$$.fragment,a),a.forEach(n.D),o.forEach(n.D),b.forEach(n.D),this.h()},h(){document.title="Log in - LibreLingo",Object(n.j)(u,"class","is-size-2"),Object(n.j)(j,"class","container"),Object(n.j)(l,"class","section")},m(b,o){Object(n.P)(b,t,o),Object(n.T)(c,b,o),Object(n.P)(b,r,o),Object(n.P)(b,l,o),Object(n.g)(l,j),Object(n.g)(j,O),Object(n.g)(O,u),Object(n.g)(u,d),Object(n.g)(O,m),Object(n.T)(f,O,null),Object(n.g)(O,h),Object(n.T)(g,O,null),Object(n.g)(O,$),P&&P.m(O,null),Object(n.g)(O,v),Object(n.T)(y,O,null),D=!0,x||(E=Object(n.R)(O,"submit",Object(n.Z)(e[3])),x=!0)},p(e,[t]){const c={};!p&&2&t&&(p=!0,c.value=e[1],Object(n.d)(()=>p=!1)),f.$set(c);const b={};!w&&4&t&&(w=!0,b.value=e[2],Object(n.d)(()=>w=!1)),g.$set(b),null!==e[0]?P?P.p(e,t):(P=i(e),P.c(),P.m(O,v)):P&&(P.d(1),P=null);const o={};128&t&&(o.$$scope={dirty:t,ctx:e}),y.$set(o)},i(e){D||(Object(n.rb)(c.$$.fragment,e),Object(n.rb)(f.$$.fragment,e),Object(n.rb)(g.$$.fragment,e),Object(n.rb)(y.$$.fragment,e),D=!0)},o(e){Object(n.sb)(c.$$.fragment,e),Object(n.sb)(f.$$.fragment,e),Object(n.sb)(g.$$.fragment,e),Object(n.sb)(y.$$.fragment,e),D=!1},d(e){e&&Object(n.D)(t),Object(n.B)(c,e),e&&Object(n.D)(r),e&&Object(n.D)(l),Object(n.B)(f),Object(n.B)(g),P&&P.d(),Object(n.B)(y),x=!1,E()}}}function l(e,t,c){var n=this&&this.__awaiter||function(e,t,c,n){return new(c||(c=Promise))((function(b,o){function a(e){try{s(n.next(e))}catch(e){o(e)}}function i(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?b(e.value):(t=e.value,t instanceof c?t:new c((function(e){e(t)}))).then(a,i)}s((n=n.apply(e,t||[])).next())}))};let b=null,o="",a="";return[b,o,a,()=>n(void 0,void 0,void 0,(function*(){try{yield window._Login(o,a)}catch(e){c(0,b=e)}})),function(e){o=e,c(1,o)},function(e){a=e,c(2,a)}]}class j extends n.b{constructor(e){super(),Object(n.O)(this,e,l,r,n.cb,{})}}t.default=j},49:function(e,t,c){"use strict";var n=c(0),b=c(4);function o(e){Object(n.h)(e,"svelte-2rwyac",".button.customColor.svelte-2rwyac{background-color:var(--color)}.button.customImage.svelte-2rwyac{background-image:var(--image)}.button.customTextColor.svelte-2rwyac{color:var(--textColor)}.key.svelte-2rwyac{font-family:monospace;border-radius:8px;text-transform:none;margin:1em;margin-left:0;margin-top:0}")}function a(e){let t,c;return{c(){t=Object(n.E)("a"),c=Object(n.ob)(e[15]),this.h()},l(b){t=Object(n.p)(b,"A",{class:!0,href:!0});var o=Object(n.n)(t);c=Object(n.t)(o,e[15]),o.forEach(n.D),this.h()},h(){Object(n.j)(t,"class","is-hidden"),Object(n.j)(t,"href",e[15])},m(e,b){Object(n.P)(e,t,b),Object(n.g)(t,c)},p(e,b){32768&b&&Object(n.fb)(c,e[15]),32768&b&&Object(n.j)(t,"href",e[15])},d(e){e&&Object(n.D)(t)}}}function i(e){let t;return{c(){t=Object(n.E)("button"),this.h()},l(e){t=Object(n.p)(e,"BUTTON",{type:!0,class:!0}),Object(n.n)(t).forEach(n.D),this.h()},h(){Object(n.j)(t,"type","submit"),Object(n.j)(t,"class","is-hidden")},m(e,c){Object(n.P)(e,t,c)},d(e){e&&Object(n.D)(t)}}}function s(e){let t,c,b,o,s,r,l,j;const O=e[23].default,u=Object(n.A)(O,e,e[22],null);let d=e[15]&&a(e),m=e[16]&&i();return{c(){t=Object(n.E)("button"),u&&u.c(),b=Object(n.kb)(),d&&d.c(),o=Object(n.kb)(),m&&m.c(),s=Object(n.F)(),this.h()},l(e){t=Object(n.p)(e,"BUTTON",{style:!0,class:!0,tabindex:!0,type:!0});var c=Object(n.n)(t);u&&u.l(c),c.forEach(n.D),b=Object(n.r)(e),d&&d.l(e),o=Object(n.r)(e),m&&m.l(e),s=Object(n.F)(),this.h()},h(){Object(n.j)(t,"style",e[18]),Object(n.j)(t,"class",c="button is-"+e[9]+" svelte-2rwyac"),Object(n.j)(t,"tabindex",e[11]),t.disabled=e[13],Object(n.j)(t,"type",e[10]),Object(n.qb)(t,"is-primary",e[0]),Object(n.qb)(t,"is-light",e[1]),Object(n.qb)(t,"is-info",e[2]),Object(n.qb)(t,"is-inverted",e[3]),Object(n.qb)(t,"is-outlined",e[4]),Object(n.qb)(t,"is-hidden",e[5]),Object(n.qb)(t,"is-loading",e[14]),Object(n.qb)(t,"customColor",e[6]),Object(n.qb)(t,"customTextColor",e[7]),Object(n.qb)(t,"customImage",e[8]),Object(n.qb)(t,"key",e[12])},m(c,a){Object(n.P)(c,t,a),u&&u.m(t,null),Object(n.P)(c,b,a),d&&d.m(c,a),Object(n.P)(c,o,a),m&&m.m(c,a),Object(n.P)(c,s,a),r=!0,l||(j=Object(n.R)(t,"click",e[24]),l=!0)},p(e,[b]){u&&u.p&&(!r||4194304&b)&&Object(n.ub)(u,O,e,e[22],r?Object(n.J)(O,e[22],b,null):Object(n.I)(e[22]),null),(!r||512&b&&c!==(c="button is-"+e[9]+" svelte-2rwyac"))&&Object(n.j)(t,"class",c),(!r||2048&b)&&Object(n.j)(t,"tabindex",e[11]),(!r||8192&b)&&(t.disabled=e[13]),(!r||1024&b)&&Object(n.j)(t,"type",e[10]),513&b&&Object(n.qb)(t,"is-primary",e[0]),514&b&&Object(n.qb)(t,"is-light",e[1]),516&b&&Object(n.qb)(t,"is-info",e[2]),520&b&&Object(n.qb)(t,"is-inverted",e[3]),528&b&&Object(n.qb)(t,"is-outlined",e[4]),544&b&&Object(n.qb)(t,"is-hidden",e[5]),16896&b&&Object(n.qb)(t,"is-loading",e[14]),576&b&&Object(n.qb)(t,"customColor",e[6]),640&b&&Object(n.qb)(t,"customTextColor",e[7]),768&b&&Object(n.qb)(t,"customImage",e[8]),4608&b&&Object(n.qb)(t,"key",e[12]),e[15]?d?d.p(e,b):(d=a(e),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null),e[16]?m||(m=i(),m.c(),m.m(s.parentNode,s)):m&&(m.d(1),m=null)},i(e){r||(Object(n.rb)(u,e),r=!0)},o(e){Object(n.sb)(u,e),r=!1},d(e){e&&Object(n.D)(t),u&&u.d(e),e&&Object(n.D)(b),d&&d.d(e),e&&Object(n.D)(o),m&&m.d(e),e&&Object(n.D)(s),l=!1,j()}}}function r(e,t,c){let{$$slots:n={},$$scope:o}=t;const a=Object(b.b)();let{primary:i=!1}=t,{light:s=!1}=t,{info:r=!1}=t,{inverted:l=!1}=t,{outlined:j=!1}=t,{hidden:O=!1}=t,{color:u=null}=t,{textColor:d=null}=t,{image:m=null}=t,{customColor:f=null!=u}=t,{customTextColor:p=null!=d}=t,{customImage:h=null!=m}=t,{size:g="default"}=t,{type:w="button"}=t,{tabindex:$=0}=t,{key:v=!1}=t,{disabled:y=!1}=t,{loading:D=!1}=t,{asHref:x=null}=t,{submit:E=!1}=t,k=`\n    --color:${u};\n    --image:${m};\n    --textColor:${d};\n  `;return e.$$set=e=>{"primary"in e&&c(0,i=e.primary),"light"in e&&c(1,s=e.light),"info"in e&&c(2,r=e.info),"inverted"in e&&c(3,l=e.inverted),"outlined"in e&&c(4,j=e.outlined),"hidden"in e&&c(5,O=e.hidden),"color"in e&&c(19,u=e.color),"textColor"in e&&c(20,d=e.textColor),"image"in e&&c(21,m=e.image),"customColor"in e&&c(6,f=e.customColor),"customTextColor"in e&&c(7,p=e.customTextColor),"customImage"in e&&c(8,h=e.customImage),"size"in e&&c(9,g=e.size),"type"in e&&c(10,w=e.type),"tabindex"in e&&c(11,$=e.tabindex),"key"in e&&c(12,v=e.key),"disabled"in e&&c(13,y=e.disabled),"loading"in e&&c(14,D=e.loading),"asHref"in e&&c(15,x=e.asHref),"submit"in e&&c(16,E=e.submit),"$$scope"in e&&c(22,o=e.$$scope)},[i,s,r,l,j,O,f,p,h,g,w,$,v,y,D,x,E,a,k,u,d,m,o,n,()=>a("click")]}class l extends n.b{constructor(e){super(),Object(n.O)(this,e,r,s,n.cb,{primary:0,light:1,info:2,inverted:3,outlined:4,hidden:5,color:19,textColor:20,image:21,customColor:6,customTextColor:7,customImage:8,size:9,type:10,tabindex:11,key:12,disabled:13,loading:14,asHref:15,submit:16},o)}}t.a=l},56:function(e,t){},87:function(e,t,c){"use strict";var n=c(0),b=c(50);function o(e){let t,c,b;return{c(){t=Object(n.E)("input"),this.h()},l(e){t=Object(n.p)(e,"INPUT",{class:!0,type:!0,name:!0,id:!0}),this.h()},h(){Object(n.j)(t,"class","input"),Object(n.j)(t,"type","text"),Object(n.j)(t,"name",e[2]),Object(n.j)(t,"id",e[2]),Object(n.qb)(t,"is-danger",null!=e[5])},m(o,a){Object(n.P)(o,t,a),Object(n.gb)(t,e[0]),c||(b=Object(n.R)(t,"input",e[7]),c=!0)},p(e,c){4&c&&Object(n.j)(t,"name",e[2]),4&c&&Object(n.j)(t,"id",e[2]),1&c&&t.value!==e[0]&&Object(n.gb)(t,e[0]),32&c&&Object(n.qb)(t,"is-danger",null!=e[5])},d(e){e&&Object(n.D)(t),c=!1,b()}}}function a(e){let t,c,b;return{c(){t=Object(n.E)("input"),this.h()},l(e){t=Object(n.p)(e,"INPUT",{class:!0,type:!0,name:!0,id:!0}),this.h()},h(){Object(n.j)(t,"class","input"),Object(n.j)(t,"type","password"),Object(n.j)(t,"name",e[2]),Object(n.j)(t,"id",e[2]),Object(n.qb)(t,"is-danger",null!=e[5])},m(o,a){Object(n.P)(o,t,a),Object(n.gb)(t,e[0]),c||(b=Object(n.R)(t,"input",e[8]),c=!0)},p(e,c){4&c&&Object(n.j)(t,"name",e[2]),4&c&&Object(n.j)(t,"id",e[2]),1&c&&t.value!==e[0]&&Object(n.gb)(t,e[0]),32&c&&Object(n.qb)(t,"is-danger",null!=e[5])},d(e){e&&Object(n.D)(t),c=!1,b()}}}function i(e){let t,c;return{c(){t=Object(n.E)("p"),c=Object(n.ob)(e[5]),this.h()},l(b){t=Object(n.p)(b,"P",{class:!0});var o=Object(n.n)(t);c=Object(n.t)(o,e[5]),o.forEach(n.D),this.h()},h(){Object(n.j)(t,"class","help is-danger")},m(e,b){Object(n.P)(e,t,b),Object(n.g)(t,c)},p(e,t){32&t&&Object(n.fb)(c,e[5])},d(e){e&&Object(n.D)(t)}}}function s(e){let t,c,s,r,l,j,O,u,d,m,f="text"===e[4]&&o(e),p="password"===e[4]&&a(e);u=new b.a({props:{size:"small",icon:e[3],left:!0}});let h=null!=e[5]&&i(e);return{c(){t=Object(n.E)("div"),c=Object(n.E)("label"),s=Object(n.ob)(e[1]),r=Object(n.kb)(),l=Object(n.E)("div"),f&&f.c(),j=Object(n.kb)(),p&&p.c(),O=Object(n.kb)(),Object(n.x)(u.$$.fragment),d=Object(n.kb)(),h&&h.c(),this.h()},l(b){t=Object(n.p)(b,"DIV",{class:!0});var o=Object(n.n)(t);c=Object(n.p)(o,"LABEL",{class:!0,for:!0});var a=Object(n.n)(c);s=Object(n.t)(a,e[1]),a.forEach(n.D),r=Object(n.r)(o),l=Object(n.p)(o,"DIV",{class:!0});var i=Object(n.n)(l);f&&f.l(i),j=Object(n.r)(i),p&&p.l(i),O=Object(n.r)(i),Object(n.o)(u.$$.fragment,i),i.forEach(n.D),d=Object(n.r)(o),h&&h.l(o),o.forEach(n.D),this.h()},h(){Object(n.j)(c,"class","label"),Object(n.j)(c,"for",e[2]),Object(n.j)(l,"class","control has-icons-left"),Object(n.j)(t,"class","field")},m(e,b){Object(n.P)(e,t,b),Object(n.g)(t,c),Object(n.g)(c,s),Object(n.g)(t,r),Object(n.g)(t,l),f&&f.m(l,null),Object(n.g)(l,j),p&&p.m(l,null),Object(n.g)(l,O),Object(n.T)(u,l,null),Object(n.g)(t,d),h&&h.m(t,null),m=!0},p(e,[b]){(!m||2&b)&&Object(n.fb)(s,e[1]),(!m||4&b)&&Object(n.j)(c,"for",e[2]),"text"===e[4]?f?f.p(e,b):(f=o(e),f.c(),f.m(l,j)):f&&(f.d(1),f=null),"password"===e[4]?p?p.p(e,b):(p=a(e),p.c(),p.m(l,O)):p&&(p.d(1),p=null);const r={};8&b&&(r.icon=e[3]),u.$set(r),null!=e[5]?h?h.p(e,b):(h=i(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null)},i(e){m||(Object(n.rb)(u.$$.fragment,e),m=!0)},o(e){Object(n.sb)(u.$$.fragment,e),m=!1},d(e){e&&Object(n.D)(t),f&&f.d(),p&&p.d(),Object(n.B)(u),h&&h.d()}}}function r(e,t,c){let{name:n}=t,{id:b}=t,{icon:o}=t,{type:a="text"}=t,{value:i}=t,{formStatus:s={}}=t,r=null;return e.$$set=e=>{"name"in e&&c(1,n=e.name),"id"in e&&c(2,b=e.id),"icon"in e&&c(3,o=e.icon),"type"in e&&c(4,a=e.type),"value"in e&&c(0,i=e.value),"formStatus"in e&&c(6,s=e.formStatus)},e.$$.update=()=>{68&e.$$.dirty&&c(5,r=s[b])},[i,n,b,o,a,r,s,function(){i=this.value,c(0,i)},function(){i=this.value,c(0,i)}]}class l extends n.b{constructor(e){super(),Object(n.O)(this,e,r,s,n.cb,{name:1,id:2,icon:3,type:4,value:0,formStatus:6})}}t.a=l}}]);