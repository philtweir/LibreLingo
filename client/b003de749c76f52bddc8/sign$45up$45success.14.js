(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{34:function(e,t,n){"use strict";var o=n(0);function c(e){Object(o.h)(e,"svelte-ly1nm4",".button.customColor.svelte-ly1nm4{background-color:var(--color)}.button.customImage.svelte-ly1nm4{background:var(--image)}.button.customTextColor.svelte-ly1nm4{color:var(--textColor)}.key.svelte-ly1nm4{font-family:monospace;border-radius:8px;text-transform:none;margin:1em;margin-left:0;margin-top:0}")}function a(e){let t,n,c;const a=e[20].default,i=Object(o.A)(a,e,e[19],null);return{c(){t=Object(o.E)("a"),i&&i.c(),this.h()},l(e){t=Object(o.p)(e,"A",{style:!0,class:!0,href:!0,tabindex:!0,target:!0});var n=Object(o.n)(t);i&&i.l(n),n.forEach(o.D),this.h()},h(){Object(o.j)(t,"style",e[15]),Object(o.j)(t,"class",n="button is-"+e[11]+" svelte-ly1nm4"),Object(o.j)(t,"href",e[0]),Object(o.j)(t,"tabindex",e[12]),Object(o.j)(t,"target",e[10]),Object(o.pb)(t,"is-primary",e[1]),Object(o.pb)(t,"is-light",e[2]),Object(o.pb)(t,"is-info",e[3]),Object(o.pb)(t,"is-inverted",e[4]),Object(o.pb)(t,"is-outlined",e[5]),Object(o.pb)(t,"is-hidden",e[6]),Object(o.pb)(t,"is-loading",e[14]),Object(o.pb)(t,"customColor",e[7]),Object(o.pb)(t,"customImage",e[8]),Object(o.pb)(t,"customTextColor",e[9]),Object(o.pb)(t,"key",e[13])},m(e,n){Object(o.P)(e,t,n),i&&i.m(t,null),c=!0},p(e,[r]){i&&i.p&&(!c||524288&r)&&Object(o.tb)(i,a,e,e[19],c?Object(o.J)(a,e[19],r,null):Object(o.I)(e[19]),null),(!c||2048&r&&n!==(n="button is-"+e[11]+" svelte-ly1nm4"))&&Object(o.j)(t,"class",n),(!c||1&r)&&Object(o.j)(t,"href",e[0]),(!c||4096&r)&&Object(o.j)(t,"tabindex",e[12]),(!c||1024&r)&&Object(o.j)(t,"target",e[10]),2050&r&&Object(o.pb)(t,"is-primary",e[1]),2052&r&&Object(o.pb)(t,"is-light",e[2]),2056&r&&Object(o.pb)(t,"is-info",e[3]),2064&r&&Object(o.pb)(t,"is-inverted",e[4]),2080&r&&Object(o.pb)(t,"is-outlined",e[5]),2112&r&&Object(o.pb)(t,"is-hidden",e[6]),18432&r&&Object(o.pb)(t,"is-loading",e[14]),2176&r&&Object(o.pb)(t,"customColor",e[7]),2304&r&&Object(o.pb)(t,"customImage",e[8]),2560&r&&Object(o.pb)(t,"customTextColor",e[9]),10240&r&&Object(o.pb)(t,"key",e[13])},i(e){c||(Object(o.qb)(i,e),c=!0)},o(e){Object(o.rb)(i,e),c=!1},d(e){e&&Object(o.D)(t),i&&i.d(e)}}}function i(e,t,n){let{$$slots:o={},$$scope:c}=t,{href:a}=t,{primary:i=!1}=t,{light:r=!1}=t,{info:s=!1}=t,{inverted:l=!1}=t,{outlined:b=!1}=t,{hidden:u=!1}=t,{color:j=null}=t,{image:d=null}=t,{textColor:O=null}=t,{customColor:m=null!=j}=t,{customImage:p=null!=d}=t,{customTextColor:g=null!=O}=t,{target:f="_self"}=t,{size:h="default"}=t,{tabindex:w=0}=t,{key:$=!1}=t,{loading:v=!1}=t,y=`\n    --color:${j};\n    --textColor:${O};\n    --image:${d};\n  `;return e.$$set=e=>{"href"in e&&n(0,a=e.href),"primary"in e&&n(1,i=e.primary),"light"in e&&n(2,r=e.light),"info"in e&&n(3,s=e.info),"inverted"in e&&n(4,l=e.inverted),"outlined"in e&&n(5,b=e.outlined),"hidden"in e&&n(6,u=e.hidden),"color"in e&&n(16,j=e.color),"image"in e&&n(17,d=e.image),"textColor"in e&&n(18,O=e.textColor),"customColor"in e&&n(7,m=e.customColor),"customImage"in e&&n(8,p=e.customImage),"customTextColor"in e&&n(9,g=e.customTextColor),"target"in e&&n(10,f=e.target),"size"in e&&n(11,h=e.size),"tabindex"in e&&n(12,w=e.tabindex),"key"in e&&n(13,$=e.key),"loading"in e&&n(14,v=e.loading),"$$scope"in e&&n(19,c=e.$$scope)},[a,i,r,s,l,b,u,m,p,g,f,h,w,$,v,y,j,d,O,c,o]}class r extends o.b{constructor(e){super(),Object(o.O)(this,e,i,a,o.cb,{href:0,primary:1,light:2,info:3,inverted:4,outlined:5,hidden:6,color:16,image:17,textColor:18,customColor:7,customImage:8,customTextColor:9,target:10,size:11,tabindex:12,key:13,loading:14},c)}}t.a=r},35:function(e,t,n){"use strict";(function(e){var o=n(46),c=n(37),a=n(36),i=n(8);let r,s,l;const b=t=>{const c=new(void 0!==e.env.JEST_WORKER_ID?n(28):n(28).default)(t).setMaxListeners(o.a.database.maxNumberOfListeners);return c.changes({since:"now",live:!0,include_docs:!0}).on("change",()=>{if(void 0!==e.env.JEST_WORKER_ID)return;n(30).default.update(e=>({...e,dbUpdatedAt:Date.now()}))}),c};if(!0===Object(i.a)()){const e=n(30).default,t=n(28).default;s=new t(`${o.a.database.remote}/${a.a.get("loginDb")}`,{skip_setup:!0,live:!0}),r=b(o.a.database.local),window._DB=r,a.a.get("loginDb")===Object(c.a)("JohnDoe")&&e.update(e=>({...e,user:{name:"JohnDoe"},online:!0})),a.a.get("loginDb")&&o.a.features.authEnabled?fetch(o.a.database.remote+"/_session",{credentials:"include"}).then(e=>e.json()).then(t=>{null!==t.userCtx.name&&(e.update(e=>({...e,user:{name:t.userCtx.name}})),i())}):e.update(e=>({...e,online:!1})),window._fakeLogin=()=>{a.a.set("loginDb",Object(c.a)("JohnDoe"),{expires:o.a.database.auth.expireDays}),window.location.href="/"},window._Login=async(t,n)=>{if(!1===window._test_credentials_correct)throw new Error("Incorrect username or password");if(!0===window._test_credentials_correct)return window._fakeLogin();const i=await(await fetch(o.a.database.remote+"/_session",{method:"post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})})).json();if(i.error){if("unauthorized"===i.error)throw new Error("Username or password is incorrect");throw new Error("Couldn't log in. Please try again later")}e.update(e=>({...e,online:null})),a.a.set("loginDb",Object(c.a)(t),{expires:o.a.database.auth.expireDays}),window.location.reload(!1),window.location.href=""},window._Logout=async()=>{try{l&&(await l.cancel(),await fetch(o.a.database.remote+"/_session",{method:"delete"}))}finally{a.a.remove("loginDb"),e.update(e=>({...e,user:null,online:null})),await r.destroy(),window.location.reload(!1)}};const i=()=>{l=r.sync(s).on("complete",(function(){e.update(e=>({...e,online:!0}))})).on("error",(function(){e.update(e=>({...e,online:!1}))}))}}void 0!==e.env.JEST_WORKER_ID&&(r=b(o.a.database.local),r.__reset=async()=>{const e=await r.allDocs();await Promise.all(e.rows.map((function(e){return r.remove(e.id,e.value.rev)})))}),t.a=r}).call(this,n(20))},37:function(e,t,n){"use strict";t.a=e=>"userdb-"+(e=>e.split("").map(e=>e.charCodeAt(0).toString(16)).join(""))(e)},423:function(e,t,n){"use strict";n.r(t);var o=n(0),c=(n(35),n(33)),a=n(34);function i(e){let t;return{c(){t=Object(o.nb)("Log in")},l(e){t=Object(o.t)(e,"Log in")},m(e,n){Object(o.P)(e,t,n)},d(e){e&&Object(o.D)(t)}}}function r(e){let t,n,r,s,l,b,u,j,d,O,m,p;return t=new c.a({}),m=new a.a({props:{href:"/login",$$slots:{default:[i]},$$scope:{ctx:e}}}),{c(){Object(o.x)(t.$$.fragment),n=Object(o.jb)(),r=Object(o.E)("section"),s=Object(o.E)("div"),l=Object(o.E)("h2"),b=Object(o.nb)("Registration successful!"),u=Object(o.jb)(),j=Object(o.E)("p"),d=Object(o.nb)("You can now log in."),O=Object(o.jb)(),Object(o.x)(m.$$.fragment),this.h()},l(e){Object(o.o)(t.$$.fragment,e),n=Object(o.r)(e),r=Object(o.p)(e,"SECTION",{class:!0});var c=Object(o.n)(r);s=Object(o.p)(c,"DIV",{class:!0});var a=Object(o.n)(s);l=Object(o.p)(a,"H2",{class:!0});var i=Object(o.n)(l);b=Object(o.t)(i,"Registration successful!"),i.forEach(o.D),u=Object(o.r)(a),j=Object(o.p)(a,"P",{});var p=Object(o.n)(j);d=Object(o.t)(p,"You can now log in."),p.forEach(o.D),O=Object(o.r)(a),Object(o.o)(m.$$.fragment,a),a.forEach(o.D),c.forEach(o.D),this.h()},h(){Object(o.j)(l,"class","is-size-2"),Object(o.j)(s,"class","container"),Object(o.j)(r,"class","section")},m(e,c){Object(o.T)(t,e,c),Object(o.P)(e,n,c),Object(o.P)(e,r,c),Object(o.g)(r,s),Object(o.g)(s,l),Object(o.g)(l,b),Object(o.g)(s,u),Object(o.g)(s,j),Object(o.g)(j,d),Object(o.g)(s,O),Object(o.T)(m,s,null),p=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),m.$set(n)},i(e){p||(Object(o.qb)(t.$$.fragment,e),Object(o.qb)(m.$$.fragment,e),p=!0)},o(e){Object(o.rb)(t.$$.fragment,e),Object(o.rb)(m.$$.fragment,e),p=!1},d(e){Object(o.B)(t,e),e&&Object(o.D)(n),e&&Object(o.D)(r),Object(o.B)(m)}}}class s extends o.b{constructor(e){super(),Object(o.O)(this,e,null,r,o.cb,{})}}t.default=s},56:function(e,t){}}]);