(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{26:function(e,t,n){"use strict";var c=n(0),a=n(4),r=n(37),o=n(29);function s(e){Object(c.h)(e,"svelte-h9c5f5","@keyframes svelte-h9c5f5-spinner{to{transform:rotate(360deg)}}.lluis-button.svelte-h9c5f5{display:inline-block}div.svelte-h9c5f5>*{display:flex;border-radius:var(--button-radius-small);padding:6px 20px;margin:4px;transition-property:filter;transition-duration:0.1s;transition-timing-function:ease-in-out}div.svelte-h9c5f5>* .icon{width:unset;height:unset;margin-right:8px}div.svelte-h9c5f5>*:hover,div.svelte-h9c5f5>*:focus{filter:brightness(1.2)}div.svelte-h9c5f5>*:active{filter:brightness(0.9);transform:scale(0.9)}.spinner.svelte-h9c5f5{display:flex;width:16px;height:16px;align-items:center;justify-content:center;animation:svelte-h9c5f5-spinner 0.6s linear infinite}.spinner.svelte-h9c5f5 .icon{display:block;margin:0 !important}div[data-style=primary].svelte-h9c5f5>*{border:1px solid var(--button-primary-border);color:var(--button-primary-text-color) !important;background-color:var(--button-primary-background-color) !important}div[data-style=secondary].svelte-h9c5f5>*{border:1px solid var(--button-secondary-border);color:var(--button-secondary-text-color) !important;background-color:var(--button-secondary-background-color) !important}div[data-style=key].svelte-h9c5f5>*{margin:6px;padding:6px 0;text-align:center;width:calc(1em + 22px);border:1px solid var(--button-key-border);color:var(--button-key-text-color) !important;background-color:var(--button-key-background-color) !important}.small.svelte-h9c5f5>*{font-size:16px;padding:3px 12px}.large.svelte-h9c5f5>*{font-size:20px;padding:9px 14px}")}function i(e){let t;const n=e[13].default,a=Object(c.A)(n,e,e[15],null);return{c(){a&&a.c()},l(e){a&&a.l(e)},m(e,n){a&&a.m(e,n),t=!0},p(e,r){a&&a.p&&(!t||32768&r)&&Object(c.ub)(a,n,e,e[15],t?Object(c.J)(n,e[15],r,null):Object(c.I)(e[15]),null)},i(e){t||(Object(c.rb)(a,e),t=!0)},o(e){Object(c.sb)(a,e),t=!1},d(e){a&&a.d(e)}}}function l(e){let t,n,a;return n=new o.a({props:{icon:"spinner"}}),{c(){t=Object(c.E)("span"),Object(c.x)(n.$$.fragment),this.h()},l(e){t=Object(c.p)(e,"SPAN",{class:!0});var a=Object(c.n)(t);Object(c.o)(n.$$.fragment,a),a.forEach(c.D),this.h()},h(){Object(c.j)(t,"class","spinner svelte-h9c5f5")},m(e,r){Object(c.P)(e,t,r),Object(c.T)(n,t,null),a=!0},p:c.U,i(e){a||(Object(c.rb)(n.$$.fragment,e),a=!0)},o(e){Object(c.sb)(n.$$.fragment,e),a=!1},d(e){e&&Object(c.D)(t),Object(c.B)(n)}}}function b(e){let t,n,a,r;const o=[l,i],s=[];function b(e,t){return e[3]?0:1}return t=b(e),n=s[t]=o[t](e),{c(){n.c(),a=Object(c.F)()},l(e){n.l(e),a=Object(c.F)()},m(e,n){s[t].m(e,n),Object(c.P)(e,a,n),r=!0},p(e,r){let i=t;t=b(e),t===i?s[t].p(e,r):(Object(c.M)(),Object(c.sb)(s[i],1,1,()=>{s[i]=null}),Object(c.m)(),n=s[t],n?n.p(e,r):(n=s[t]=o[t](e),n.c()),Object(c.rb)(n,1),n.m(a.parentNode,a))},i(e){r||(Object(c.rb)(n),r=!0)},o(e){Object(c.sb)(n),r=!1},d(e){s[t].d(e),e&&Object(c.D)(a)}}}function d(e){let t;return{c(){t=Object(c.E)("a"),this.h()},l(e){t=Object(c.p)(e,"A",{class:!0,href:!0}),Object(c.n)(t).forEach(c.D),this.h()},h(){Object(c.j)(t,"class","hidden-link"),Object(c.j)(t,"href",e[4])},m(e,n){Object(c.P)(e,t,n)},p(e,n){16&n&&Object(c.j)(t,"href",e[4])},d(e){e&&Object(c.D)(t)}}}function j(e){let t,n,a,o,s;n=new r.a({props:{href:e[0],type:e[5],target:e[7],tabIndex:e[8],disabled:e[9],$$slots:{default:[b]},$$scope:{ctx:e}}}),n.$on("click",e[14]);let i=null!=e[4]&&d(e);return{c(){t=Object(c.E)("div"),Object(c.x)(n.$$.fragment),a=Object(c.kb)(),i&&i.c(),o=Object(c.F)(),this.h()},l(e){t=Object(c.p)(e,"DIV",{class:!0,"data-style":!0,style:!0});var r=Object(c.n)(t);Object(c.o)(n.$$.fragment,r),r.forEach(c.D),a=Object(c.r)(e),i&&i.l(e),o=Object(c.F)(),this.h()},h(){Object(c.j)(t,"class","lluis-button svelte-h9c5f5"),Object(c.j)(t,"data-style",e[6]),Object(c.j)(t,"style",e[11]),Object(c.qb)(t,"small","small"===e[1]),Object(c.qb)(t,"large","large"===e[1]),Object(c.qb)(t,"customImage",e[2])},m(e,r){Object(c.P)(e,t,r),Object(c.T)(n,t,null),Object(c.P)(e,a,r),i&&i.m(e,r),Object(c.P)(e,o,r),s=!0},p(e,[a]){const r={};1&a&&(r.href=e[0]),32&a&&(r.type=e[5]),128&a&&(r.target=e[7]),256&a&&(r.tabIndex=e[8]),512&a&&(r.disabled=e[9]),32776&a&&(r.$$scope={dirty:a,ctx:e}),n.$set(r),(!s||64&a)&&Object(c.j)(t,"data-style",e[6]),2&a&&Object(c.qb)(t,"small","small"===e[1]),2&a&&Object(c.qb)(t,"large","large"===e[1]),4&a&&Object(c.qb)(t,"customImage",e[2]),null!=e[4]?i?i.p(e,a):(i=d(e),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},i(e){s||(Object(c.rb)(n.$$.fragment,e),s=!0)},o(e){Object(c.sb)(n.$$.fragment,e),s=!1},d(e){e&&Object(c.D)(t),Object(c.B)(n),e&&Object(c.D)(a),i&&i.d(e),e&&Object(c.D)(o)}}}function u(e,t,n){let{$$slots:c={},$$scope:r}=t;const o=Object(a.b)();let{href:s=null}=t,{size:i="normal"}=t,{image:l=null}=t,{customImage:b=null!=l}=t,{loading:d=!1}=t,{asHref:j=null}=t,{type:u="button"}=t,{style:O="secondary"}=t,{target:p}=t,{tabIndex:f}=t,{disabled:g=!1}=t,h=`\n    --image:${l};\n  `;return e.$$set=e=>{"href"in e&&n(0,s=e.href),"size"in e&&n(1,i=e.size),"image"in e&&n(12,l=e.image),"customImage"in e&&n(2,b=e.customImage),"loading"in e&&n(3,d=e.loading),"asHref"in e&&n(4,j=e.asHref),"type"in e&&n(5,u=e.type),"style"in e&&n(6,O=e.style),"target"in e&&n(7,p=e.target),"tabIndex"in e&&n(8,f=e.tabIndex),"disabled"in e&&n(9,g=e.disabled),"$$scope"in e&&n(15,r=e.$$scope)},[s,i,b,d,j,u,O,p,f,g,o,h,l,c,()=>o("click"),r]}class O extends c.b{constructor(e){super(),Object(c.O)(this,e,u,j,c.cb,{href:0,size:1,image:12,customImage:2,loading:3,asHref:4,type:5,style:6,target:7,tabIndex:8,disabled:9},s)}}t.a=O},323:function(e,t,n){"use strict";n.r(t);var c=n(0),a=(n(38),n(36)),r=n(26);function o(e){let t;return{c(){t=Object(c.ob)("Log in")},l(e){t=Object(c.t)(e,"Log in")},m(e,n){Object(c.P)(e,t,n)},d(e){e&&Object(c.D)(t)}}}function s(e){let t,n,s,i,l,b,d,j,u,O,p,f;return t=new a.a({}),p=new r.a({props:{href:"/login",$$slots:{default:[o]},$$scope:{ctx:e}}}),{c(){Object(c.x)(t.$$.fragment),n=Object(c.kb)(),s=Object(c.E)("section"),i=Object(c.E)("div"),l=Object(c.E)("h2"),b=Object(c.ob)("Registration successful!"),d=Object(c.kb)(),j=Object(c.E)("p"),u=Object(c.ob)("You can now log in."),O=Object(c.kb)(),Object(c.x)(p.$$.fragment),this.h()},l(e){Object(c.o)(t.$$.fragment,e),n=Object(c.r)(e),s=Object(c.p)(e,"SECTION",{class:!0});var a=Object(c.n)(s);i=Object(c.p)(a,"DIV",{class:!0});var r=Object(c.n)(i);l=Object(c.p)(r,"H2",{class:!0});var o=Object(c.n)(l);b=Object(c.t)(o,"Registration successful!"),o.forEach(c.D),d=Object(c.r)(r),j=Object(c.p)(r,"P",{});var f=Object(c.n)(j);u=Object(c.t)(f,"You can now log in."),f.forEach(c.D),O=Object(c.r)(r),Object(c.o)(p.$$.fragment,r),r.forEach(c.D),a.forEach(c.D),this.h()},h(){Object(c.j)(l,"class","is-size-2"),Object(c.j)(i,"class","container"),Object(c.j)(s,"class","section")},m(e,a){Object(c.T)(t,e,a),Object(c.P)(e,n,a),Object(c.P)(e,s,a),Object(c.g)(s,i),Object(c.g)(i,l),Object(c.g)(l,b),Object(c.g)(i,d),Object(c.g)(i,j),Object(c.g)(j,u),Object(c.g)(i,O),Object(c.T)(p,i,null),f=!0},p(e,[t]){const n={};1&t&&(n.$$scope={dirty:t,ctx:e}),p.$set(n)},i(e){f||(Object(c.rb)(t.$$.fragment,e),Object(c.rb)(p.$$.fragment,e),f=!0)},o(e){Object(c.sb)(t.$$.fragment,e),Object(c.sb)(p.$$.fragment,e),f=!1},d(e){Object(c.B)(t,e),e&&Object(c.D)(n),e&&Object(c.D)(s),Object(c.B)(p)}}}class i extends c.b{constructor(e){super(),Object(c.O)(this,e,null,s,c.cb,{})}}t.default=i},38:function(e,t,n){"use strict";(function(e){var c=n(49),a=n(39),r=n(32),o=n(8);let s,i,l;const b=t=>{const a=new(void 0!==e.env.JEST_WORKER_ID?n(30):n(30).default)(t).setMaxListeners(c.a.database.maxNumberOfListeners);return a.changes({since:"now",live:!0,include_docs:!0}).on("change",()=>{if(void 0!==e.env.JEST_WORKER_ID)return;n(33).default.update(e=>({...e,dbUpdatedAt:Date.now()}))}),a};if(!0===Object(o.a)()){const e=n(33).default,t=n(30).default;i=new t(`${c.a.database.remote}/${r.a.get("loginDb")}`,{skip_setup:!0,live:!0}),s=b(c.a.database.local),window._DB=s,r.a.get("loginDb")===Object(a.a)("JohnDoe")&&e.update(e=>({...e,user:{name:"JohnDoe"},online:!0})),r.a.get("loginDb")&&c.a.features.authEnabled?fetch(c.a.database.remote+"/_session",{credentials:"include"}).then(e=>e.json()).then(t=>{null!==t.userCtx.name&&(e.update(e=>({...e,user:{name:t.userCtx.name}})),o())}):e.update(e=>({...e,online:!1})),window._fakeLogin=()=>{r.a.set("loginDb",Object(a.a)("JohnDoe"),{expires:c.a.database.auth.expireDays}),window.location.href="/"},window._Login=async(t,n)=>{if(!1===window._test_credentials_correct)throw new Error("Incorrect username or password");if(!0===window._test_credentials_correct)return window._fakeLogin();const o=await(await fetch(c.a.database.remote+"/_session",{method:"post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})})).json();if(o.error){if("unauthorized"===o.error)throw new Error("Username or password is incorrect");throw new Error("Couldn't log in. Please try again later")}e.update(e=>({...e,online:null})),r.a.set("loginDb",Object(a.a)(t),{expires:c.a.database.auth.expireDays}),window.location.reload(!1),window.location.href=""},window._Logout=async()=>{try{l&&(await l.cancel(),await fetch(c.a.database.remote+"/_session",{method:"delete"}))}finally{r.a.remove("loginDb"),e.update(e=>({...e,user:null,online:null})),await s.destroy(),window.location.reload(!1)}};const o=()=>{l=s.sync(i).on("complete",(function(){e.update(e=>({...e,online:!0}))})).on("error",(function(){e.update(e=>({...e,online:!1}))}))}}void 0!==e.env.JEST_WORKER_ID&&(s=b(c.a.database.local),s.__reset=async()=>{const e=await s.allDocs();await Promise.all(e.rows.map((function(e){return s.remove(e.id,e.value.rev)})))}),t.a=s}).call(this,n(20))},39:function(e,t,n){"use strict";t.a=e=>"userdb-"+(e=>e.split("").map(e=>e.charCodeAt(0).toString(16)).join(""))(e)},58:function(e,t){}}]);