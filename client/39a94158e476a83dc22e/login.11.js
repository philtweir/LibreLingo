(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{35:function(e,t,c){"use strict";(function(e){var n=c(46),b=c(37),o=c(36),i=c(8);let a,s,l;const r=t=>{const b=new(void 0!==e.env.JEST_WORKER_ID?c(28):c(28).default)(t).setMaxListeners(n.a.database.maxNumberOfListeners);return b.changes({since:"now",live:!0,include_docs:!0}).on("change",()=>{if(void 0!==e.env.JEST_WORKER_ID)return;c(30).default.update(e=>({...e,dbUpdatedAt:Date.now()}))}),b};if(!0===Object(i.a)()){const e=c(30).default,t=c(28).default;s=new t(`${n.a.database.remote}/${o.a.get("loginDb")}`,{skip_setup:!0,live:!0}),a=r(n.a.database.local),window._DB=a,o.a.get("loginDb")===Object(b.a)("JohnDoe")&&e.update(e=>({...e,user:{name:"JohnDoe"},online:!0})),o.a.get("loginDb")&&n.a.features.authEnabled?fetch(n.a.database.remote+"/_session",{credentials:"include"}).then(e=>e.json()).then(t=>{null!==t.userCtx.name&&(e.update(e=>({...e,user:{name:t.userCtx.name}})),i())}):e.update(e=>({...e,online:!1})),window._fakeLogin=()=>{o.a.set("loginDb",Object(b.a)("JohnDoe"),{expires:n.a.database.auth.expireDays}),window.location.href="/"},window._Login=async(t,c)=>{if(!1===window._test_credentials_correct)throw new Error("Incorrect username or password");if(!0===window._test_credentials_correct)return window._fakeLogin();const i=await(await fetch(n.a.database.remote+"/_session",{method:"post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:c})})).json();if(i.error){if("unauthorized"===i.error)throw new Error("Username or password is incorrect");throw new Error("Couldn't log in. Please try again later")}e.update(e=>({...e,online:null})),o.a.set("loginDb",Object(b.a)(t),{expires:n.a.database.auth.expireDays}),window.location.reload(!1),window.location.href=""},window._Logout=async()=>{try{l&&(await l.cancel(),await fetch(n.a.database.remote+"/_session",{method:"delete"}))}finally{o.a.remove("loginDb"),e.update(e=>({...e,user:null,online:null})),await a.destroy(),window.location.reload(!1)}};const i=()=>{l=a.sync(s).on("complete",(function(){e.update(e=>({...e,online:!0}))})).on("error",(function(){e.update(e=>({...e,online:!1}))}))}}void 0!==e.env.JEST_WORKER_ID&&(a=r(n.a.database.local),a.__reset=async()=>{const e=await a.allDocs();await Promise.all(e.rows.map((function(e){return a.remove(e.id,e.value.rev)})))}),t.a=a}).call(this,c(20))},37:function(e,t,c){"use strict";t.a=e=>"userdb-"+(e=>e.split("").map(e=>e.charCodeAt(0).toString(16)).join(""))(e)},432:function(e,t,c){"use strict";c.r(t);var n=c(0),b=(c(35),c(33)),o=c(49),i=c(87);function a(e){let t,c;return{c(){t=Object(n.D)("p"),c=Object(n.kb)(e[0]),this.h()},l(b){t=Object(n.p)(b,"P",{class:!0});var o=Object(n.n)(t);c=Object(n.s)(o,e[0]),o.forEach(n.C),this.h()},h(){Object(n.j)(t,"class","help is-danger")},m(e,b){Object(n.O)(e,t,b),Object(n.g)(t,c)},p(e,t){1&t&&Object(n.eb)(c,e[0])},d(e){e&&Object(n.C)(t)}}}function s(e){let t;return{c(){t=Object(n.kb)("Log in")},l(e){t=Object(n.s)(e,"Log in")},m(e,c){Object(n.O)(e,t,c)},d(e){e&&Object(n.C)(t)}}}function l(e){let t,c,l,r,j,O,u,d,f,h,m,p,g,w,$,v,y,C,x,D;function E(t){e[4](t)}c=new b.a({});let _={name:"Username",icon:"user",id:"username"};function k(t){e[5](t)}void 0!==e[1]&&(_.value=e[1]),h=new i.a({props:_}),n.l.push(()=>Object(n.k)(h,"value",E));let T={name:"Password",icon:"lock",id:"password",type:"password"};void 0!==e[2]&&(T.value=e[2]),g=new i.a({props:T}),n.l.push(()=>Object(n.k)(g,"value",k));let L=null!==e[0]&&a(e);return y=new o.a({props:{submit:!0,$$slots:{default:[s]},$$scope:{ctx:e}}}),y.$on("click",e[3]),{c(){t=Object(n.hb)(),Object(n.w)(c.$$.fragment),l=Object(n.hb)(),r=Object(n.D)("section"),j=Object(n.D)("div"),O=Object(n.D)("form"),u=Object(n.D)("h2"),d=Object(n.kb)("Log in"),f=Object(n.hb)(),Object(n.w)(h.$$.fragment),p=Object(n.hb)(),Object(n.w)(g.$$.fragment),$=Object(n.hb)(),L&&L.c(),v=Object(n.hb)(),Object(n.w)(y.$$.fragment),this.h()},l(e){Object(n.Z)('[data-svelte="svelte-nuxzs8"]',document.head).forEach(n.C),t=Object(n.r)(e),Object(n.o)(c.$$.fragment,e),l=Object(n.r)(e),r=Object(n.p)(e,"SECTION",{class:!0});var b=Object(n.n)(r);j=Object(n.p)(b,"DIV",{class:!0});var o=Object(n.n)(j);O=Object(n.p)(o,"FORM",{});var i=Object(n.n)(O);u=Object(n.p)(i,"H2",{class:!0});var a=Object(n.n)(u);d=Object(n.s)(a,"Log in"),a.forEach(n.C),f=Object(n.r)(i),Object(n.o)(h.$$.fragment,i),p=Object(n.r)(i),Object(n.o)(g.$$.fragment,i),$=Object(n.r)(i),L&&L.l(i),v=Object(n.r)(i),Object(n.o)(y.$$.fragment,i),i.forEach(n.C),o.forEach(n.C),b.forEach(n.C),this.h()},h(){document.title="Log in - LibreLingo",Object(n.j)(u,"class","is-size-2"),Object(n.j)(j,"class","container"),Object(n.j)(r,"class","section")},m(b,o){Object(n.O)(b,t,o),Object(n.S)(c,b,o),Object(n.O)(b,l,o),Object(n.O)(b,r,o),Object(n.g)(r,j),Object(n.g)(j,O),Object(n.g)(O,u),Object(n.g)(u,d),Object(n.g)(O,f),Object(n.S)(h,O,null),Object(n.g)(O,p),Object(n.S)(g,O,null),Object(n.g)(O,$),L&&L.m(O,null),Object(n.g)(O,v),Object(n.S)(y,O,null),C=!0,x||(D=Object(n.Q)(O,"submit",Object(n.Y)(e[3])),x=!0)},p(e,[t]){const c={};!m&&2&t&&(m=!0,c.value=e[1],Object(n.d)(()=>m=!1)),h.$set(c);const b={};!w&&4&t&&(w=!0,b.value=e[2],Object(n.d)(()=>w=!1)),g.$set(b),null!==e[0]?L?L.p(e,t):(L=a(e),L.c(),L.m(O,v)):L&&(L.d(1),L=null);const o={};128&t&&(o.$$scope={dirty:t,ctx:e}),y.$set(o)},i(e){C||(Object(n.mb)(c.$$.fragment,e),Object(n.mb)(h.$$.fragment,e),Object(n.mb)(g.$$.fragment,e),Object(n.mb)(y.$$.fragment,e),C=!0)},o(e){Object(n.nb)(c.$$.fragment,e),Object(n.nb)(h.$$.fragment,e),Object(n.nb)(g.$$.fragment,e),Object(n.nb)(y.$$.fragment,e),C=!1},d(e){e&&Object(n.C)(t),Object(n.A)(c,e),e&&Object(n.C)(l),e&&Object(n.C)(r),Object(n.A)(h),Object(n.A)(g),L&&L.d(),Object(n.A)(y),x=!1,D()}}}function r(e,t,c){var n=this&&this.__awaiter||function(e,t,c,n){return new(c||(c=Promise))((function(b,o){function i(e){try{s(n.next(e))}catch(e){o(e)}}function a(e){try{s(n.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?b(e.value):(t=e.value,t instanceof c?t:new c((function(e){e(t)}))).then(i,a)}s((n=n.apply(e,t||[])).next())}))};let b=null,o="",i="";return[b,o,i,()=>n(void 0,void 0,void 0,(function*(){try{yield window._Login(o,i)}catch(e){c(0,b=e)}})),function(e){o=e,c(1,o)},function(e){i=e,c(2,i)}]}class j extends n.b{constructor(e){super(),Object(n.N)(this,e,r,l,n.bb,{})}}t.default=j},49:function(e,t,c){"use strict";var n=c(0),b=c(4);function o(e){Object(n.h)(e,"svelte-fcw7ds",".button.customColor.svelte-fcw7ds{background-color:var(--color)}.button.customTextColor.svelte-fcw7ds{color:var(--textColor)}.key.svelte-fcw7ds{font-family:monospace;border-radius:8px;text-transform:none;margin:1em;margin-left:0;margin-top:0}")}function i(e){let t,c;return{c(){t=Object(n.D)("a"),c=Object(n.kb)(e[14]),this.h()},l(b){t=Object(n.p)(b,"A",{class:!0,href:!0});var o=Object(n.n)(t);c=Object(n.s)(o,e[14]),o.forEach(n.C),this.h()},h(){Object(n.j)(t,"class","is-hidden"),Object(n.j)(t,"href",e[14])},m(e,b){Object(n.O)(e,t,b),Object(n.g)(t,c)},p(e,b){16384&b&&Object(n.eb)(c,e[14]),16384&b&&Object(n.j)(t,"href",e[14])},d(e){e&&Object(n.C)(t)}}}function a(e){let t;return{c(){t=Object(n.D)("button"),this.h()},l(e){t=Object(n.p)(e,"BUTTON",{type:!0,class:!0}),Object(n.n)(t).forEach(n.C),this.h()},h(){Object(n.j)(t,"type","submit"),Object(n.j)(t,"class","is-hidden")},m(e,c){Object(n.O)(e,t,c)},d(e){e&&Object(n.C)(t)}}}function s(e){let t,c,b,o,s,l,r,j;const O=e[21].default,u=Object(n.z)(O,e,e[20],null);let d=e[14]&&i(e),f=e[15]&&a();return{c(){t=Object(n.D)("button"),u&&u.c(),b=Object(n.hb)(),d&&d.c(),o=Object(n.hb)(),f&&f.c(),s=Object(n.E)(),this.h()},l(e){t=Object(n.p)(e,"BUTTON",{style:!0,class:!0,tabindex:!0,type:!0});var c=Object(n.n)(t);u&&u.l(c),c.forEach(n.C),b=Object(n.r)(e),d&&d.l(e),o=Object(n.r)(e),f&&f.l(e),s=Object(n.E)(),this.h()},h(){Object(n.j)(t,"style",e[17]),Object(n.j)(t,"class",c="button is-"+e[8]+" svelte-fcw7ds"),Object(n.j)(t,"tabindex",e[10]),t.disabled=e[12],Object(n.j)(t,"type",e[9]),Object(n.lb)(t,"is-primary",e[0]),Object(n.lb)(t,"is-light",e[1]),Object(n.lb)(t,"is-info",e[2]),Object(n.lb)(t,"is-inverted",e[3]),Object(n.lb)(t,"is-outlined",e[4]),Object(n.lb)(t,"is-hidden",e[5]),Object(n.lb)(t,"is-loading",e[13]),Object(n.lb)(t,"customColor",e[6]),Object(n.lb)(t,"customTextColor",e[7]),Object(n.lb)(t,"key",e[11])},m(c,i){Object(n.O)(c,t,i),u&&u.m(t,null),Object(n.O)(c,b,i),d&&d.m(c,i),Object(n.O)(c,o,i),f&&f.m(c,i),Object(n.O)(c,s,i),l=!0,r||(j=Object(n.Q)(t,"click",e[22]),r=!0)},p(e,[b]){u&&u.p&&(!l||1048576&b)&&Object(n.pb)(u,O,e,e[20],l?Object(n.I)(O,e[20],b,null):Object(n.H)(e[20]),null),(!l||256&b&&c!==(c="button is-"+e[8]+" svelte-fcw7ds"))&&Object(n.j)(t,"class",c),(!l||1024&b)&&Object(n.j)(t,"tabindex",e[10]),(!l||4096&b)&&(t.disabled=e[12]),(!l||512&b)&&Object(n.j)(t,"type",e[9]),257&b&&Object(n.lb)(t,"is-primary",e[0]),258&b&&Object(n.lb)(t,"is-light",e[1]),260&b&&Object(n.lb)(t,"is-info",e[2]),264&b&&Object(n.lb)(t,"is-inverted",e[3]),272&b&&Object(n.lb)(t,"is-outlined",e[4]),288&b&&Object(n.lb)(t,"is-hidden",e[5]),8448&b&&Object(n.lb)(t,"is-loading",e[13]),320&b&&Object(n.lb)(t,"customColor",e[6]),384&b&&Object(n.lb)(t,"customTextColor",e[7]),2304&b&&Object(n.lb)(t,"key",e[11]),e[14]?d?d.p(e,b):(d=i(e),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null),e[15]?f||(f=a(),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null)},i(e){l||(Object(n.mb)(u,e),l=!0)},o(e){Object(n.nb)(u,e),l=!1},d(e){e&&Object(n.C)(t),u&&u.d(e),e&&Object(n.C)(b),d&&d.d(e),e&&Object(n.C)(o),f&&f.d(e),e&&Object(n.C)(s),r=!1,j()}}}function l(e,t,c){let{$$slots:n={},$$scope:o}=t;const i=Object(b.b)();let{primary:a=!1}=t,{light:s=!1}=t,{info:l=!1}=t,{inverted:r=!1}=t,{outlined:j=!1}=t,{hidden:O=!1}=t,{color:u=null}=t,{textColor:d=null}=t,{customColor:f=null!=u}=t,{customTextColor:h=null!=d}=t,{size:m="default"}=t,{type:p="button"}=t,{tabindex:g=0}=t,{key:w=!1}=t,{disabled:$=!1}=t,{loading:v=!1}=t,{asHref:y=null}=t,{submit:C=!1}=t,x=`\n    --color:${u};\n    --textColor:${d};\n  `;return e.$$set=e=>{"primary"in e&&c(0,a=e.primary),"light"in e&&c(1,s=e.light),"info"in e&&c(2,l=e.info),"inverted"in e&&c(3,r=e.inverted),"outlined"in e&&c(4,j=e.outlined),"hidden"in e&&c(5,O=e.hidden),"color"in e&&c(18,u=e.color),"textColor"in e&&c(19,d=e.textColor),"customColor"in e&&c(6,f=e.customColor),"customTextColor"in e&&c(7,h=e.customTextColor),"size"in e&&c(8,m=e.size),"type"in e&&c(9,p=e.type),"tabindex"in e&&c(10,g=e.tabindex),"key"in e&&c(11,w=e.key),"disabled"in e&&c(12,$=e.disabled),"loading"in e&&c(13,v=e.loading),"asHref"in e&&c(14,y=e.asHref),"submit"in e&&c(15,C=e.submit),"$$scope"in e&&c(20,o=e.$$scope)},[a,s,l,r,j,O,f,h,m,p,g,w,$,v,y,C,i,x,u,d,o,n,()=>i("click")]}class r extends n.b{constructor(e){super(),Object(n.N)(this,e,l,s,n.bb,{primary:0,light:1,info:2,inverted:3,outlined:4,hidden:5,color:18,textColor:19,customColor:6,customTextColor:7,size:8,type:9,tabindex:10,key:11,disabled:12,loading:13,asHref:14,submit:15},o)}}t.a=r},56:function(e,t){},87:function(e,t,c){"use strict";var n=c(0),b=c(50);function o(e){let t,c,b;return{c(){t=Object(n.D)("input"),this.h()},l(e){t=Object(n.p)(e,"INPUT",{class:!0,type:!0,name:!0,id:!0}),this.h()},h(){Object(n.j)(t,"class","input"),Object(n.j)(t,"type","text"),Object(n.j)(t,"name",e[2]),Object(n.j)(t,"id",e[2]),Object(n.lb)(t,"is-danger",null!=e[5])},m(o,i){Object(n.O)(o,t,i),Object(n.fb)(t,e[0]),c||(b=Object(n.Q)(t,"input",e[7]),c=!0)},p(e,c){4&c&&Object(n.j)(t,"name",e[2]),4&c&&Object(n.j)(t,"id",e[2]),1&c&&t.value!==e[0]&&Object(n.fb)(t,e[0]),32&c&&Object(n.lb)(t,"is-danger",null!=e[5])},d(e){e&&Object(n.C)(t),c=!1,b()}}}function i(e){let t,c,b;return{c(){t=Object(n.D)("input"),this.h()},l(e){t=Object(n.p)(e,"INPUT",{class:!0,type:!0,name:!0,id:!0}),this.h()},h(){Object(n.j)(t,"class","input"),Object(n.j)(t,"type","password"),Object(n.j)(t,"name",e[2]),Object(n.j)(t,"id",e[2]),Object(n.lb)(t,"is-danger",null!=e[5])},m(o,i){Object(n.O)(o,t,i),Object(n.fb)(t,e[0]),c||(b=Object(n.Q)(t,"input",e[8]),c=!0)},p(e,c){4&c&&Object(n.j)(t,"name",e[2]),4&c&&Object(n.j)(t,"id",e[2]),1&c&&t.value!==e[0]&&Object(n.fb)(t,e[0]),32&c&&Object(n.lb)(t,"is-danger",null!=e[5])},d(e){e&&Object(n.C)(t),c=!1,b()}}}function a(e){let t,c;return{c(){t=Object(n.D)("p"),c=Object(n.kb)(e[5]),this.h()},l(b){t=Object(n.p)(b,"P",{class:!0});var o=Object(n.n)(t);c=Object(n.s)(o,e[5]),o.forEach(n.C),this.h()},h(){Object(n.j)(t,"class","help is-danger")},m(e,b){Object(n.O)(e,t,b),Object(n.g)(t,c)},p(e,t){32&t&&Object(n.eb)(c,e[5])},d(e){e&&Object(n.C)(t)}}}function s(e){let t,c,s,l,r,j,O,u,d,f,h="text"===e[4]&&o(e),m="password"===e[4]&&i(e);u=new b.a({props:{size:"small",icon:e[3],left:!0}});let p=null!=e[5]&&a(e);return{c(){t=Object(n.D)("div"),c=Object(n.D)("label"),s=Object(n.kb)(e[1]),l=Object(n.hb)(),r=Object(n.D)("div"),h&&h.c(),j=Object(n.hb)(),m&&m.c(),O=Object(n.hb)(),Object(n.w)(u.$$.fragment),d=Object(n.hb)(),p&&p.c(),this.h()},l(b){t=Object(n.p)(b,"DIV",{class:!0});var o=Object(n.n)(t);c=Object(n.p)(o,"LABEL",{class:!0,for:!0});var i=Object(n.n)(c);s=Object(n.s)(i,e[1]),i.forEach(n.C),l=Object(n.r)(o),r=Object(n.p)(o,"DIV",{class:!0});var a=Object(n.n)(r);h&&h.l(a),j=Object(n.r)(a),m&&m.l(a),O=Object(n.r)(a),Object(n.o)(u.$$.fragment,a),a.forEach(n.C),d=Object(n.r)(o),p&&p.l(o),o.forEach(n.C),this.h()},h(){Object(n.j)(c,"class","label"),Object(n.j)(c,"for",e[2]),Object(n.j)(r,"class","control has-icons-left"),Object(n.j)(t,"class","field")},m(e,b){Object(n.O)(e,t,b),Object(n.g)(t,c),Object(n.g)(c,s),Object(n.g)(t,l),Object(n.g)(t,r),h&&h.m(r,null),Object(n.g)(r,j),m&&m.m(r,null),Object(n.g)(r,O),Object(n.S)(u,r,null),Object(n.g)(t,d),p&&p.m(t,null),f=!0},p(e,[b]){(!f||2&b)&&Object(n.eb)(s,e[1]),(!f||4&b)&&Object(n.j)(c,"for",e[2]),"text"===e[4]?h?h.p(e,b):(h=o(e),h.c(),h.m(r,j)):h&&(h.d(1),h=null),"password"===e[4]?m?m.p(e,b):(m=i(e),m.c(),m.m(r,O)):m&&(m.d(1),m=null);const l={};8&b&&(l.icon=e[3]),u.$set(l),null!=e[5]?p?p.p(e,b):(p=a(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null)},i(e){f||(Object(n.mb)(u.$$.fragment,e),f=!0)},o(e){Object(n.nb)(u.$$.fragment,e),f=!1},d(e){e&&Object(n.C)(t),h&&h.d(),m&&m.d(),Object(n.A)(u),p&&p.d()}}}function l(e,t,c){let{name:n}=t,{id:b}=t,{icon:o}=t,{type:i="text"}=t,{value:a}=t,{formStatus:s={}}=t,l=null;return e.$$set=e=>{"name"in e&&c(1,n=e.name),"id"in e&&c(2,b=e.id),"icon"in e&&c(3,o=e.icon),"type"in e&&c(4,i=e.type),"value"in e&&c(0,a=e.value),"formStatus"in e&&c(6,s=e.formStatus)},e.$$.update=()=>{68&e.$$.dirty&&c(5,l=s[b])},[a,n,b,o,i,l,s,function(){a=this.value,c(0,a)},function(){a=this.value,c(0,a)}]}class r extends n.b{constructor(e){super(),Object(n.N)(this,e,l,s,n.bb,{name:1,id:2,icon:3,type:4,value:0,formStatus:6})}}t.a=r}}]);